{"version":3,"sources":["../../src/controllers/pets.ts"],"names":["pets","createPet","body","newPet","id","getPet","listPets","Object","values","removePet","withOwner","pet","ownerId","owner"],"mappings":";;;;;;;AAAA;;AAEA;;;;;;;;AAKA,IAAMA,IAA6B,GAAG,EAAtC;;AAEO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,IAAD,EAIV;AACb,MAAMC,MAAM,qBACPD,IADO;AAEVE,IAAAA,EAAE,EAAE;AAFM,IAAZ;;AAIAJ,EAAAA,IAAI,CAACG,MAAM,CAACC,EAAR,CAAJ,GAAkBD,MAAlB;AACA,SAAOA,MAAP;AACD,CAXM;;;;AAaA,IAAME,MAAM,GAAG,SAATA,MAAS,CAACD,EAAD,EAAyB;AAC7C,SAAOJ,IAAI,CAACI,EAAD,CAAX;AACD,CAFM;;;;AAIA,IAAME,QAAQ,GAAG,SAAXA,QAAW,GAAiB;AACvC,SAAOC,MAAM,CAACC,MAAP,CAAcR,IAAd,CAAP;AACD,CAFM;;;;AAIA,IAAMS,SAAS,GAAG,SAAZA,SAAY,CAACL,EAAD,EAAsB;AAC7C,SAAOJ,IAAI,CAACI,EAAD,CAAX;AACD,CAFM;;;;AAIA,IAAMM,SAAS,GAAG,SAAZA,SAAY,CAACC,GAAD,EAAkB;AACzC,SAAOA,GAAG,CAACC,OAAJ,qBAAmBD,GAAnB;AAAwBE,IAAAA,KAAK,EAAE,oBAAQF,GAAG,CAACC,OAAZ;AAA/B,OAAwDD,GAA/D;AACD,CAFM","sourcesContent":["import { v4 as uuidv4 } from \"uuid\";\r\nimport { Pet } from \"../model\";\r\nimport { getUser } from \"./users\";\r\nimport { z } from \"../zod\";\r\n\r\ntype PetType = z.infer<typeof Pet>;\r\n\r\nconst pets: Record<string, PetType> = {};\r\n\r\nexport const createPet = (body: {\r\n  name: string;\r\n  ownerId?: string;\r\n  age?: number;\r\n}): PetType => {\r\n  const newPet = {\r\n    ...body,\r\n    id: uuidv4()\r\n  };\r\n  pets[newPet.id] = newPet;\r\n  return newPet;\r\n};\r\n\r\nexport const getPet = (id: string): PetType => {\r\n  return pets[id];\r\n};\r\n\r\nexport const listPets = (): PetType[] => {\r\n  return Object.values(pets);\r\n};\r\n\r\nexport const removePet = (id: string): void => {\r\n  delete pets[id];\r\n};\r\n\r\nexport const withOwner = (pet: PetType) => {\r\n  return pet.ownerId ? { ...pet, owner: getUser(pet.ownerId) } : pet;\r\n};\r\n"],"file":"pets.js"}